(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/clipboard.12202113.svg"},36:function(e,t,a){e.exports=a.p+"static/media/chatIcon.631e2c61.png"},37:function(e,t,a){e.exports=a(84)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},79:function(e,t){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(33),s=a.n(r),i=(a(42),a(2)),c=a(3),l=a(1),u=a(5),d=a(4),m=(a(43),a(44),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._sheetPos=0,o._sheetCoverStr=void 0,o._timerStopBool=!1,o._stopTimerLoop=!1,o._sheetPos=e.pos,o._sheetCoverStr="sheet-cover"+o._sheetPos,o.handleEndDrag=o.handleEndDrag.bind(Object(l.a)(o)),o.handleStartDrag=o.handleStartDrag.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("."+this._sheetCoverStr);0==this._sheetPos||9==this._sheetPos?e.style.backgroundColor="#50C878":e.style.backgroundColor="white",e.style.boxShadow="2px 3px 4px 0.05px"}},{key:"convertRoataionToNumber",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t?8:7;return Number(e.slice(a,-4))}},{key:"handleStartDrag",value:function(){}},{key:"translationToRotation",value:function(e){return e/((window.innerWidth<=1200?5:6)-.15*this._sheetPos)}},{key:"handleDrag",value:function(e,t,a){var o=window.innerWidth<1200?.7:.55;console.log(o);var n=window.innerWidth*o,r=document.querySelector("."+this._sheetCoverStr),s=this.convertRoataionToNumber(r.style.transform,!0),i=(e.screenX?e.screenX:e.touches?e.touches[0].clientX:0)-window.screenLeft,c=this.translationToRotation(i-n);return s>=c&&(this.shouldPageNumberDisplay()&&c<=-70&&!this._stopTimerLoop&&(this._timerStopBool||(this._timerStopBool=!0,this._stopTimerLoop=!0)),c>=-145+this.sheetAngleOffset()&&(r.style.transform="rotateY("+c.toString()+"deg)",t.emit("bookOpenAngle",{bookAngle:c,customCode:a(),sheetPos:this._sheetCoverStr}))),!1}},{key:"shouldPageNumberDisplay",value:function(){return 5==this._sheetPos}},{key:"shouldNextPageNumberDisplay",value:function(){return 4==this._sheetPos}},{key:"resetTimerStopBool",value:function(){this._timerStopBool=!1}},{key:"shouldTimerBeStopped",value:function(){return this._timerStopBool}},{key:"resetStopTimerLoop",value:function(){this._stopTimerLoop=!1}},{key:"sheetAngleOffset",value:function(){return this._sheetPos>=5?5*(10-this._sheetPos):145-6*this._sheetPos}},{key:"handleEndDrag",value:function(){this.resetStopTimerLoop(),this.resetsheet()}},{key:"resetsheet",value:function(){var e=document.querySelector("."+this._sheetCoverStr);setTimeout((function(){e.classList.toggle("sheet-cover-close"),setTimeout((function(){e.style.transform="rotateY(0deg)",e.classList.toggle("sheet-cover-close")}),1900)}),1500)}},{key:"render",value:function(){var e=this.shouldPageNumberDisplay()?n.a.createElement("p",{className:"page-number"},this.props.pageNumber):this.shouldNextPageNumberDisplay()?n.a.createElement("p",{className:"next-page-number"},this.props.pageNumber+1):null;return n.a.createElement("div",{className:this._sheetCoverStr},e)}}]),a}(n.a.Component)),h=(a(45),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._startTime=new Date,o._endTime=new Date,o._sheetArray=[],o._timeDiff=0,o._pageNumber=0,o.handleEndDrag=o.handleEndDrag.bind(Object(l.a)(o)),o.handleStartDrag=o.handleStartDrag.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"handleStartDrag",value:function(){this.shouldBeDragabble()&&(this._startTime=new Date)}},{key:"handleDrag",value:function(e){var t=this;console.log(this.shouldBeDragabble()),this.shouldBeDragabble()&&this._sheetArray.forEach((function(a){if(a.handleDrag(e,t.props.socket,t.props.customPlayerCode),t.shouldTimerBeStopped(a)){t._endTime=new Date;var o=t._endTime.getTime()-t._startTime.getTime();if(t._timeDiff=o,t._timeDiff%2!=0){var n=3*Math.random();0==Math.floor(n)&&(t._timeDiff+=1)}t._pageNumber=Number(t._timeDiff.toString()),t.forceUpdate(),a.resetTimerStopBool()}}))}},{key:"shouldTimerBeStopped",value:function(e){return e.shouldTimerBeStopped()&&0==this._timeDiff}},{key:"resetTimeDiffBool",value:function(){this._timeDiff=0}},{key:"handleEndDrag",value:function(){this.shouldBeDragabble()&&(this.props.socket.emit("opponentBookStopOpeningAnimation",{playerCode:this.props.customPlayerCode()}),this._sheetArray.forEach((function(e){e.handleEndDrag()})),this.resetTimeDiffBool(),this.props.appCallBack&&this.props.appCallBack(this._pageNumber))}},{key:"shouldBeDragabble",value:function(){return this.props.playerTurn}},{key:"componentDidMount",value:function(){for(var e=0;e<10;e++)this._sheetArray.push(new m({pos:e}))}},{key:"render",value:function(){for(var e=[],t=0;t<10;t++)e.push(n.a.createElement(m,{pos:t,key:"sheet"+t.toString(),pageNumber:this._timeDiff}));return n.a.createElement("div",{className:"complete-book"},n.a.createElement("button",{className:"drag-button",draggable:!0,onDragStart:this.handleStartDrag,onTouchStart:this.handleStartDrag,onTouchMove:this.handleDrag.bind(this),onTouchEnd:this.handleEndDrag,onDrag:this.handleDrag.bind(this),onDragEnd:this.handleEndDrag},"DragMe"),n.a.createElement("div",{className:"book"},e))}}]),a}(n.a.Component)),p=(a(46),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"handleSocialMediaClick",value:function(){var e=document.querySelector(".Social-Media-selection");null===e||void 0===e||e.classList.toggle("Social-Media-selection-active")}},{key:"render",value:function(){return n.a.createElement("nav",null,n.a.createElement("div",{className:"navbar-main"},n.a.createElement("p",{className:"session-heading"},this.props.sessionHeading),n.a.createElement("div",{className:"Social-Media-selection"},n.a.createElement("ul",{className:"Social-Media-dropdown"},n.a.createElement("li",{className:"Social-Media-dd-item"},n.a.createElement("a",{href:"https://www.instagram.com/sri._vatsa/",target:"_blank",id:"social-media-element",onClick:this.handleSocialMediaClick},"Instagram")),n.a.createElement("li",{className:"Social-Media-dd-item"},n.a.createElement("a",{href:"https://twitter.com/SrivatsaM11",target:"_blank",style:{textDecoration:"none"},id:"social-media-element",onClick:this.handleSocialMediaClick},"Twitter")))),n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",{className:"Social-Media",onClick:this.handleSocialMediaClick},"Social Media"))))}}]),a}(n.a.Component)),g=(a(47),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"scoring-div"},n.a.createElement("div",{className:"total-div"},n.a.createElement("p",{className:"scoring-key"},"Total :"),n.a.createElement("p",{className:"scoring-val"},this.props.playerScore)),n.a.createElement("div",{className:"total-div"},n.a.createElement("p",{className:"scoring-key"},"Opponent :"),n.a.createElement("p",{className:"scoring-val"},this.props.opponentScore)))}}]),a}(n.a.Component)),v=(a(17),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"toggleOutWindow",value:function(){document.querySelector(".out-div").classList.toggle("remove-out-div")}},{key:"render",value:function(){return n.a.createElement("div",{className:"out-div remove-out-div"},n.a.createElement("div",{className:"display-out"},n.a.createElement("p",{className:"out-text"},this.props.playerText),n.a.createElement("p",{className:"score-text"},this.props.finalScore),n.a.createElement("button",{className:"exit-button",onClick:this.toggleOutWindow},"Exit")))}}]),a}(n.a.Component)),f=(a(48),a(34)),b=a.n(f),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).getCode=o.getCode.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"getCode",value:function(){console.log("In getCode");var e=document.querySelector(".code-text-input");this.hideComponent(),this.props.parentCallBack(e.value)}},{key:"sendBackSameCode",value:function(){this.hideComponent(),this.props.parentCallBack(this.props.sharableCode)}},{key:"hideComponent",value:function(){document.querySelector(".enterCode-div").classList.toggle("remove-enterCode-div")}},{key:"render",value:function(){return n.a.createElement("div",{className:"enterCode-div"},n.a.createElement("div",{className:"display-enterCode"},n.a.createElement("p",{className:"enterCode-text"},"Enter code"),n.a.createElement("div",{className:"enter-code-main-div"},n.a.createElement("input",{type:"text",name:"code-text",className:"code-text-input"}),n.a.createElement("button",{className:"Enter-game-button",onTouchStart:this.getCode,onClick:this.getCode},"Enter Game")),n.a.createElement("p",{className:"enterCode-text"},"Or"),n.a.createElement("div",{className:"share-code-button"},n.a.createElement("p",{className:"share-code-text"},"Share code :"),n.a.createElement("div",{className:"code-share-div"},n.a.createElement("p",{className:"code-val-text"},this.props.sharableCode),n.a.createElement("button",{className:"clipnoard-button"}," ",n.a.createElement("img",{src:b.a,className:"clipboard-image"}))),n.a.createElement("button",{className:"enter-share-code",onTouchStart:this.sendBackSameCode.bind(this),onClick:this.sendBackSameCode.bind(this)},"Enter"))))}}]),a}(n.a.Component),k=a(35),S=a.n(k),C=(a(82),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"loader-main-div"},n.a.createElement("div",{className:"loader"}))}}]),a}(n.a.Component)),E=(a(83),a(36)),N=a.n(E),_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).handleSendMessageClick=o.handleSendMessageClick.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"handleChatIconClick",value:function(){var e=document.querySelector(".chat-icon-anim");e&&e.classList.toggle("chat-icon-anim"),document.querySelector(".chat-box-div").classList.toggle("hide-chat-box")}},{key:"handleSendMessageClick",value:function(){var e=document.querySelector(".chat-box-text-input"),t=e.value;if(""!=t){var a=document.querySelector(".chat-box-display"),o=document.createElement("p");o.appendChild(document.createTextNode(t)),o.setAttribute("class","player-message"),a.appendChild(o),this.props.socket.emit("playerMessage",{message:t,customPlayerCode:this.props.customPlayerCode()}),e.value=""}}},{key:"render",value:function(){return n.a.createElement("div",{className:"chat-main-div"},n.a.createElement("div",{className:"chat-box-div hide-chat-box"},n.a.createElement("div",{className:"chat-box-display"}),n.a.createElement("div",{className:"chat-box-type"},n.a.createElement("input",{type:"text",className:"chat-box-text-input"}),n.a.createElement("button",{className:"send-msg-button",onClick:this.handleSendMessageClick},"Send"))),n.a.createElement("div",{className:"chat-icon-div"},n.a.createElement("img",{src:N.a,className:"chat-icon",onClick:this.handleChatIconClick})))}}]),a}(n.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._totalScore=0,o._isOut=!1,o.socket=S()("http://localhost:3000/"),o._customPlayerCode="",o._displayPlayererSessionInfo=!1,o.state={opponentScore:"0"},o.bookCallBack=o.bookCallBack.bind(Object(l.a)(o)),o.resetTotalScore=o.resetTotalScore.bind(Object(l.a)(o)),o.sendPlayerScore=o.sendPlayerScore.bind(Object(l.a)(o)),o.codeCallBack=o.codeCallBack.bind(Object(l.a)(o)),o.getCustomPlayerCode=o.getCustomPlayerCode.bind(Object(l.a)(o)),o.sendPlayerPageNumber=o.sendPlayerPageNumber.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"toggleOutWindow",value:function(){new v({}).toggleOutWindow()}},{key:"bookCallBack",value:function(e){var t=this;this.sendPlayerPageNumber(e),e%10==0?setTimeout((function(){t._isOut=!0,t.sendOutMessage(),t.toggleOutWindow(),t.forceUpdate()}),1800):(this._totalScore+=Number(e.toString().slice(-1)),setTimeout((function(){t.forceUpdate()}),2500)),this.sendPlayerScore(this._totalScore)}},{key:"getCustomPlayerCode",value:function(){return this._customPlayerCode}},{key:"resetTotalScore",value:function(){this._totalScore=0}},{key:"sendPlayerScore",value:function(e){this.socket.emit("playerScore",{score:e.toString(),customCode:this._customPlayerCode})}},{key:"sendPlayerPageNumber",value:function(e){this.socket.emit("currentPage",{page:e.toString(),playerCode:this._customPlayerCode})}},{key:"sendOutMessage",value:function(){this.socket.emit("outMessage",{playerCode:this._customPlayerCode})}},{key:"toggleLoader",value:function(){document.querySelector(".loader-main-div").classList.toggle("hide-loader")}},{key:"codeCallBack",value:function(e){this.socket.emit("customCommonCode",e)}},{key:"finalScore",value:function(){return this._isOut?this._totalScore:Number(this.state.opponentScore)}},{key:"playerText",value:function(){return this._isOut?"You are out":"Opponent is out"}},{key:"sessionHeading",value:function(){return this._displayPlayererSessionInfo?this._isOut?"Opponent's turn to play":"Your turn to play":""}},{key:"componentDidMount",value:function(){var e=this;this.socket.on("sharableCode",(function(t){console.log("Sharable code in"),e._customPlayerCode=t.gameCode.toString(),e.forceUpdate()})),this.socket.on("hideLoader",(function(){console.log("Loader toggled"),e.toggleLoader()})),this.socket.on("opponentScore",(function(t){e.setState({opponentScore:t})})),this.socket.on("playerCode",(function(t){console.log("Ibnside layer code"),e._customPlayerCode=t.playerCode,e._isOut=t.initSession,e._displayPlayererSessionInfo=!0,e.forceUpdate()})),this.socket.on("openBookWithOpponentAngle",(function(e){document.querySelector("."+e.sheetCoverPos).style.transform="rotateY("+e.sheetAngle+"deg)"})),this.socket.on("opponentBookStopOpeningAnimation",(function(){for(var e=0;e<10;e++){new m({pos:e}).handleEndDrag()}})),this.socket.on("currentPage",(function(e){document.querySelector(".sheet-cover5").querySelector(".page-number").innerText=e,document.querySelector(".sheet-cover4").querySelector(".next-page-number").innerText=(Number(e)+1).toString()})),this.socket.on("opponentMessage",(function(e){if(""!=e.message){var t=document.querySelector(".chat-box-display");if(document.querySelector(".hide-chat-box"))document.querySelector(".chat-icon-div").classList.toggle("chat-icon-anim");var a=document.createElement("p");a.appendChild(document.createTextNode(e.message)),a.setAttribute("class","opponent-message"),t.appendChild(a)}})),this.socket.on("outMessage",(function(){console.log("Outmessage"),e._isOut=!1,e.toggleOutWindow(),e.forceUpdate()}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(C,null),n.a.createElement(v,{finalScore:this.finalScore(),playerText:this.playerText()}),n.a.createElement(y,{parentCallBack:this.codeCallBack,sharableCode:this._customPlayerCode}),n.a.createElement(p,{parentCallback:function(){},sessionHeading:this.sessionHeading()}),n.a.createElement("div",{className:"body-container"},n.a.createElement("div",{className:"first-row"},n.a.createElement(h,{appCallBack:this.bookCallBack,socket:this.socket,customPlayerCode:this.getCustomPlayerCode,playerTurn:!this._isOut}),n.a.createElement(g,{playerScore:this._totalScore,opponentScore:this.state.opponentScore})),n.a.createElement(_,{socket:this.socket,customPlayerCode:this.getCustomPlayerCode})))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.3d481cb6.chunk.js.map